<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

<h:head>
    <title>CRUD</title>
</h:head>

<h:body>
    <ui:composition xmlns="http://www.w3.org/1999/xhtml"
                    xmlns:ui="http://java.sun.com/jsf/facelets"
                    xmlns:h="http://java.sun.com/jsf/html">

        <f:event type="preRenderView" listener="#{usuarioBean.verificarSesion(true)}"/>
        <h:panelGrid columns="1">
            <h:form>
                <p:menubar>
                    <p:menuitem value="App"/>
                    <p:menuitem value="Home" outcome="/logged/main" icon="pi pi-home"/>
                    <p:menuitem value="Categorias" outcome="/logged/categorias" icon="pi pi-list"/>
                    <p:menuitem value="#{usuarioBean.sesion.usuario}"/>
                    <p:menuitem value="Salir" action="#{usuarioBean.cerrarSesion()}" icon="pi pi-sign-out"/>
                </p:menubar>
            </h:form>
            <div class="ui-container mt-4">
                <ui:insert name="contenido"/>
            </div>
        </h:panelGrid>

    </ui:composition>
</h:body>
</html>
