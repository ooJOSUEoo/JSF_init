package beans;

import dao.PersonaDAO;
import entities.Persona;
import jakarta.enterprise.context.SessionScoped;
import jakarta.inject.Named;
import java.io.Serializable;
import java.util.List;

@Named
@SessionScoped
public class PersonaBean implements Serializable {
    private classes.Persona persona = new classes.Persona();
    private PersonaDAO personaDAO = new PersonaDAO();

    public void agregarPersona() {
        personaDAO.guardar(persona);
        persona = new classes.Persona(); // Reinicia el formulario
    }

    public List<Persona> getPersonas() {
        return personaDAO.listar();
    }

    public void eliminar(Long id) {
        personaDAO.eliminar(id);
    }

    public Persona getPersona() { return persona; }
    public void setPersona(Persona persona) { this.persona = persona; }
}
